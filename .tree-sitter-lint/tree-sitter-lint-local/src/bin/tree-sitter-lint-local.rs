use std :: env ; use tracing_chrome :: ChromeLayerBuilder ; use tracing_subscriber :: prelude :: * ; use tree_sitter_lint :: squalid :: NonEmpty ; fn main () { let _guard = if env :: var ("TRACE_CHROME") . ok () . is_non_empty () { let (chrome_layer , guard) = ChromeLayerBuilder :: new () . include_args (true) . build () ; tracing_subscriber :: registry () . with (chrome_layer) . init () ; Some (guard) } else { tracing_subscriber :: fmt :: init () ; None } ; tree_sitter_lint_local :: run_and_output () ; }